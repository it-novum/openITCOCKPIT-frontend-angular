<ng-container *transloco="let t">

    <div class="row">
        <div class="col">
            <fa-stack>
                <fa-icon [icon]="['fas', 'square']" [stackItemSize]="'2x'" class="text-primary"></fa-icon>
                <fa-icon [icon]="['fas', 'server']" [inverse]="true" [stackItemSize]="'1x'"></fa-icon>
            </fa-stack>

        </div>
    </div>


    <table cTable bordered hover>
        <tbody>
        <tr>
            <td colspan="6">


                <span class="fa-stack fa-2x">
                    <i class="fas fa-square fa-stack-2x text-primary"></i>
                    <i class="fas fa-server icon-stack-2x position-absolute text-white"></i>
                </span>
                <span class="iTop-class-label">
                    {{ result.response.general_information?.finalclass?.value }}
                </span>
            </td>
        </tr>

        <tr class="border-primary-top">
            <th colspan="2" class="col-4">
                <i class="fa-solid fa-circle-info text-primary width-15"> </i> {{ t('General information') }}
            </th>
            <td class="bold">
                {{ t('Status') }}
            </td>
            <th colspan="2" class="col-4">
                <i class="fa-solid fa-network-wired text-primary width-15"> </i> {{ t('Network component') }}
            </th>
            <td class="bold">
                {{ t('Production Critical') }}
            </td>
        </tr>

        <tr>
            <th class="col-lg-2 col-md-2">
                {{ t('Name') }}
            </th>
            <td>
                {{ result.response.general_information?.name?.value }}
            </td>
            <td class="col-lg-1 col-md-1">
                <div ng-switch="result.response.general_information?.status?.value">
                    <span ng-switch-when="implementation"
                          class="badge border-info border text-info w-100">
                        <i class="fas fa-archive text-info"></i> {{ t('implementation') }}
                    </span>
                    <span ng-switch-when="production"
                          class="badge border-success border text-success w-100">
                        <i class="fas fa-power-off text-success"> </i> {{ t('production') }}
                    </span>
                    <span ng-switch-when="stock"
                          class="badge border-primary border text-primary w-100">
                        <i class="fas fa-archive text-primary"></i> {{ t('stock') }}
                    </span>
                    <span ng-switch-when="obsolete"
                          class="badge border-danger border text-danger w-100">
                        <i class="fas fa-archive text-danger"></i>  {{ t('obsolete') }}
                    </span>
                </div>
            </td>

            <th>
                {{ t('Hierarchy') }}
            </th>
            <td>
                <span class="badge badge-primary"
                      *ngIf="result.response.location_information?.hierachie?.value">
                    {{ result.response.location_information?.hierachie?.value }}
                </span>
            </td>
            <td class="col-lg-1 col-md-1">
                @switch (result.response.general_information?.business_criticity?.value) {
                    @case ("low") {
                        <span class="badge border-success border text-success w-100 helptext"
                              title="{{ t('No Production relevance') }}">
                            {{ t('low') }}
                        </span>
                    }
                    @case ("medium") {
                        <span class="badge border-warning border text-warning w-100 helptext"
                              title="{{ t('Production relevant') }}">
                            {{ t('medium') }}
                        </span>
                    }
                    @case ("hight") {
                        <span class="badge border-danger border text-danger w-100 helptext"
                              title="{{ t('Production relevance high') }}">
                            {{ t('high') }}
                        </span>
                    }
                }
            </td>
        </tr>

        <tr>
            <th>{{ t('Description') }}</th>
            <td>
                {{ result.response.general_information?.description?.value }}
            </td>
            <td rowspan="3" class="text-center align-middle">
                <span [ngSwitch]="result.response.general_information?.status?.value">
                    <!-- Gradient colored icons -->
                    <i class="fas fa-file-circle-check fa-4x status-implementation"
                       *ngSwitchCase="'implementation'"></i>
                    <i class="fas fa-plug-circle-check fa-4x status-production" *ngSwitchCase="'production'"></i>
                    <i class="fas fa-boxes-packing fa-4x status-stock" *ngSwitchCase="'stock'"></i>
                    <i class="fas fa-plug-circle-bolt fa-4x status-obsolete" *ngSwitchCase="'obsolete'"></i>
                </span>
            </td>
            <th>
                {{ t('Scope') }}
            </th>
            <td>
                {{ result.response.network_component?.scope?.value }}
            </td>
            <td rowspan="3" class="text-center align-middle">
                <span ng-switch="result.response.general_information?.business_criticity?.value">
                    <i class="fa fa-solid fa-bars fa-4x business-criticity-low helptext"
                       ng-switch-when="low"
                       title="{{ t('No Production relevance') }}"></i>
                    <i class="fa fa-solid fa-bars fa-4x business-criticity-medium helptext"
                       ng-switch-when="medium"
                       title="{{ t('Production relevant') }}"></i>
                    <i class="fa fa-solid fa-bars fa-4x business-criticity-high helptext"
                       ng-switch-when="high"
                       title="{{ t('Production relevance high') }}"></i>
                </span>
            </td>
        </tr>

        <tr>
            <th>
                {{ t('External ID') }}
            </th>
            <td class="text-primary">
                {{ result.response.general_information?.id?.value }}
                <span *ngIf="result.response.externalLink" class="ng-scope">
                    <a target="_blank" [href]="result.response.externalLink">
                        <i class="fas fa-external-link-alt padding-left-5"></i>
                    </a>
                </span>
            </td>
            <th>
                {{ t('Service window') }}
            </th>
            <td>
                {{ result.response.operations?.service_window?.value }}
            </td>
        </tr>

        <tr>
            <th>
                {{ t('Final class') }}
            </th>
            <td>
                {{ result.response.general_information?.finalclass?.value }}
            </td>
            <th>
                {{ t('Service class') }}
            </th>
            <td>
                {{ result.response.general_information?.serviceclass?.value }}
            </td>
        </tr>

        <tr>
            <th>
                {{ t('Location') }}
            </th>
            <td colspan="2">
                {{ result.response.location_information?.location_name?.value }}
                <span *ngIf="result.response.location_information?.buildingroom?.value">
                    <i class="fa-solid fa-chevron-right text-primary"> </i> {{ result.response.location_information?.buildingroom?.value }}
                </span>
            </td>
            <th>
                {{ t('Risk class') }}
            </th>
            <td colspan="3">
                <code *ngIf="result.response.general_information?.riskclass?.value">
                    {{ result.response.general_information?.riskclass?.value }}
                </code>
            </td>
        </tr>

        <tr>
            <td colspan="3" rowspan="2"></td>
            <th>
                {{ t('Wanedge type') }}
            </th>
            <td colspan="3">
                {{ result.response.network_component?.wanedgetype?.value }}
            </td>
        </tr>

        <tr>
            <th>
                {{ t('Provider name') }}
            </th>
            <td colspan="3">
                {{ result.response.operations?.provider_name?.value }}
            </td>
        </tr>

        <tr class="border-primary-top">
            <th colspan="6">
                <i class="fa-solid fa-server text-primary width-15"> </i> {{ t('Server details') }}
            </th>
        </tr>

        <tr>
            <th>
                {{ t('Brand name') }}
            </th>
            <td colspan="5">
                {{ result.response.server_details?.brand_name?.value }}
            </td>
        </tr>
        <tr>
            <th>
                {{ t('Model') }}
            </th>
            <td colspan="5">
                {{ result.response.server_details?.model_name?.value }}
            </td>
        </tr>
        <tr>
            <th>
                {{ t('OS Family') }}
            </th>
            <td colspan="5">
                {{ result.response.server_details?.os_family?.value }}
            </td>
        </tr>
        <tr>
            <th>
                {{ t('OS Version') }}
            </th>
            <td colspan="5">
                {{ result.response.server_details?.os_version?.value }}
            </td>
        </tr>
        <tr>
            <th>
                {{ t('Cpu type') }}
                <sub><i class="fas fa-microchip text-primary"></i></sub>
            </th>
            <td colspan="5">
                {{ result.response.server_details?.cpu_type?.value }}
            </td>
        </tr>
        <tr>
            <th>
                {{ t('Cpu count') }}
            </th>
            <td colspan="5">
                {{ result.response.server_details?.cpu_count?.value }}
            </td>
        </tr>
        <tr>
            <th>
                {{ t('Cpu cores') }}
            </th>
            <td colspan="5">
                {{ result.response.server_details?.cpu_cores?.value }}
            </td>
        </tr>
        <tr>
            <th>
                {{ t('RAM') }}
                <sub><i class="fas fa-memory text-primary"></i></sub>
            </th>
            <td colspan="5">
                {{ result.response.server_details?.ram?.value }}
            </td>
        </tr>
        </tbody>
    </table>

</ng-container>
