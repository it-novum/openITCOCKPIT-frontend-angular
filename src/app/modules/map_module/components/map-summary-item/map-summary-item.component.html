<div cdkDrag #container class="map-element-container resizable"
     [draggable]="isViewMode()"
     (cdkDragEnded)="onDragEnd($event)"
     (cdkDragMoved)="onDragMove($event)"
     cdkDragBoundary=".map-canvas">
    <div class="text-center" *ngIf="allowView && (item()!.label_possition == 1 || item()!.label_possition == 2)">
        <div [hidden]="!(item()!.show_label && item()!.label_possition == 1)">{{ label }}</div>
        <img cdkDragHandle
             [src]="'/angular/getHostAndServiceStateSummaryIcon/' + item()!.size_x + '/' + bitMaskHostState + '/' + bitMaskServiceState + '/.png'"
             onerror="this.src='/map_module/img/items/missing.png';"/>
        <div [hidden]="!(item()!.show_label && item()!.label_possition == 2)">{{ label }}</div>
    </div>

    <div class="text-center" *ngIf="allowView && (item()!.label_possition == 3 || item()!.label_possition == 4)">
        <span [hidden]="!(item()!.show_label && item()!.label_possition == 4)">{{ label }}</span>
        <img cdkDragHandle
             [src]="'/angular/getHostAndServiceStateSummaryIcon/' + item()!.size_x + '/' + bitMaskHostState + '/' + bitMaskServiceState + '/.png'"
             onerror="this.src='/map_module/img/items/missing.png';"/>
        <span [hidden]="!(item()!.show_label && item()!.label_possition == 3)">{{ label }}</span>
    </div>
</div>
<p-contextMenu [target]="container" [model]="contextMenuItems" appendTo="body"></p-contextMenu>
